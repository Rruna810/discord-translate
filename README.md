# discord-translate

# Discord 自動翻訳Bot

## 概要

本プロジェクトは、特定チャンネル内で動作するDiscord自動翻訳Botです。  
投稿されたメッセージの文字種を簡易判定し、日本語 ⇄ 英語間の翻訳を自動で行います。

コマンド入力は不要で、対象チャンネルに送信されたメッセージへBotが返信形式で翻訳結果を返します。

---

## 主な仕様

- 指定チャンネルのみで動作
- 日本語を検知した場合 → 英語へ翻訳
- 英語を検知した場合 → 日本語へ翻訳
- メッセージ送信と同時に自動処理
- 既存のコマンド機能との併用が可能

---

## 技術構成

- Python  
- discord.py  
- deep-translator（GoogleTranslator）  
- Flask（Keep-Alive用Webサーバー）  
- Render（ホスティング環境想定）  

---

## 動作ロジック

### 1. チャンネル制御

あらかじめ指定した `TARGET_CHANNEL_ID` と一致するチャンネルのみで翻訳処理を実行します。  
これにより、不要なチャンネルでの誤作動を防いでいます。

---

### 2. 言語判定

正規表現を用いてメッセージ内の文字種を判定しています。

- 英語判定: `[a-zA-Z]`
- 日本語判定: `[ぁ-んァ-ン一-龥]`

該当する文字が含まれている場合、それぞれ対応する翻訳方向を指定します。

---

### 3. 翻訳処理

`deep_translator.GoogleTranslator` を使用し、

- 日本語 → 英語  
- 英語 → 日本語  

を明示的に指定して翻訳を実行します。

翻訳結果は `message.reply()` により、元メッセージへ返信する形で送信されます。

---

## デプロイ構成

無料ホスティング環境（例：Render）では、一定時間アクセスが無い場合にプロセスが停止するため、Flaskによる簡易Webサーバーを構築しています。

```python
@app.route("/")
def home():
    return "Bot is alive"
